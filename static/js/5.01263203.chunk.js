(this.webpackJsonplighter=this.webpackJsonplighter||[]).push([[5],{183:function(t,e,a){t.exports={page:"ResultPage_page__3ySjD",stationName:"ResultPage_stationName__39vU4"}},189:function(t,e,a){"use strict";a.r(e);var n=a(76),r=a.n(n),i=a(78),o=a(4),s=a(0),c=a(2),u=a(14),l=a(15),d=a(79),m=a.n(d),f=a(1);var p=function(t){var e=t.platformId,a=t.route,n=t.destination,r=t.trainLength,i=t.time;return Object(f.jsxs)("div",{className:m.a.row,children:[Object(f.jsx)("span",{className:m.a.platformId,children:e}),Object(f.jsxs)("span",{className:m.a.route,children:[a,"number"===typeof r?Object(f.jsx)(l.a,{code:new Array(r).fill(0).map((function(){return"\ud83d\ude8b"})).join("")}):r]}),Object(f.jsx)("span",{className:m.a.destination,children:n}),Object(f.jsx)("span",{className:m.a.time,children:i})]})},_=a(186),j=_.c().shape({platform_list:_.a().of(_.c().shape({platform_id:_.b().required(),route_list:_.a().of(_.c().shape({train_length:_.b().integer().positive().required(),route_no:_.d().required(),time_en:_.d().required(),dest_en:_.d().required()}).required()).required()}).required()).required()}).required(),h=a(12),b=a(183),v=a.n(b);e.default=function(){var t=Object(c.g)().stationId,e=Object(s.useState)(),a=Object(o.a)(e,2),n=a[0],l=a[1];Object(s.useEffect)((function(){var e=!1;return Object(i.a)(r.a.mark((function a(){var n,i,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat("https://rt.data.gov.hk/v1/transport/mtr/lrt/getSchedule?station_id=").concat(t),{mode:"cors",method:"GET"});case 3:return n=a.sent,a.next=6,n.json();case 6:return i=a.sent,a.next=9,j.validate(i);case 9:o=a.sent,e||l(o),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),window.location.reload();case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))(),function(){e=!0}}),[t]);var d=Object(s.useMemo)((function(){var e=h.find((function(e){return e.id===t}));return e?"".concat(e.nameEn," ").concat(e.nameCh):""}),[t]);return Object(f.jsxs)("div",{className:v.a.page,children:[Object(f.jsx)("h3",{className:v.a.stationName,children:d}),Object(f.jsx)(p,{platformId:"Platform",trainLength:"",route:"Route",time:"Time of arrivals",destination:"Destination"}),n?n.platform_list.flatMap((function(t){var e=t.platform_id;return t.route_list.flatMap((function(t){var a=t.train_length,n=t.route_no,r=t.time_en,i=t.dest_en;return Object(f.jsx)(p,{platformId:e,trainLength:a,route:n,time:r,destination:i},"".concat(e,"-").concat(a,"-").concat(n,"-").concat(r,"-").concat(i))}))})):Object(f.jsx)(u.a,{})]})}},79:function(t,e,a){t.exports={row:"ResultRow_row__2f4S9",platformId:"ResultRow_platformId__HU7X0",route:"ResultRow_route__LRm5F",destination:"ResultRow_destination__3LOX7",time:"ResultRow_time__1ilG1"}}}]);
//# sourceMappingURL=5.01263203.chunk.js.map