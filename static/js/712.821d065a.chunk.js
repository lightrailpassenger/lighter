"use strict";(globalThis.webpackChunklighter=globalThis.webpackChunklighter||[]).push([[712],{4712:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var n=t(5043),o=t(6971),c=t(228),u=t.n(c),a=t(579);const s=function(e){const{centerX:r,centerY:t,zoomLevel:o,markers:c,onViewChange:s,onMarkerClick:l}=e,i=(0,n.useRef)(null),f=(0,n.useRef)(null);return(0,n.useLayoutEffect)((()=>{f.current&&(i.current=u().map(f.current),u().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(i.current),f.current.style.width="100%",f.current.style.height="100%")}),[]),(0,n.useLayoutEffect)((()=>{const e=()=>{if(i.current){const{lat:e,lng:r}=i.current.getCenter(),t=i.current.getZoom();s(e,r,t)}};return i.current&&(i.current.on("zoomend",e),i.current.on("moveend",e)),()=>{i.current&&(i.current.off("zoomend",e),i.current.off("moveend",e))}}),[s]),(0,n.useLayoutEffect)((()=>{if(i.current)for(let e of c){const{id:r,lat:t,lon:n}=e,o=u().marker([t,n]);o.on("click",(()=>{l(r)})),o.addTo(i.current)}}),[c,l]),(0,n.useLayoutEffect)((()=>{i.current&&i.current.setView([r,t],o)}),[r,t,o]),(0,a.jsx)("div",{ref:f})},l="MapPage_mapPage__rJlIj";const i=function(e){const{centerX:r,centerY:t,zoomLevel:c,markers:u,onViewChange:i}=e,f=(0,o.Zp)(),h=(0,n.useCallback)((e=>{f(`/result/${e}`)}),[f]);return(0,a.jsx)("div",{className:l,children:(0,a.jsx)(s,{centerX:r,centerY:t,zoomLevel:c,markers:u,onMarkerClick:h,onViewChange:i})})}}}]);
//# sourceMappingURL=712.821d065a.chunk.js.map