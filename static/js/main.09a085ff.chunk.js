(this.webpackJsonplighter=this.webpackJsonplighter||[]).push([[0],{14:function(e){e.exports=JSON.parse('[{"id":"080","nameCh":"\u6fa4\u8c50","nameEn":"Affluence","routes":["610","610","751","751"],"lat":22.4035304,"lon":113.9758783},{"id":"015","nameCh":"\u8774\u8776","nameEn":"Butterfly","routes":["615P","615P","610","610","615","615"],"lat":22.3781579,"lon":113.9617536},{"id":"490","nameCh":"\u7fe0\u6e56","nameEn":"Chestwood","routes":["751","751"],"lat":22.4596928,"lon":113.9996008},{"id":"120","nameCh":"\u9752\u677e","nameEn":"Ching Chung","routes":["505","505","615P","615P","615","615"],"lat":22.4073257,"lon":113.972571},{"id":"075","nameCh":"\u8521\u610f\u6a4b","nameEn":"Choy Yee Bridge","routes":["507","507","751","751"],"lat":22.4000237,"lon":113.9743666},{"id":"468","nameCh":"\u980c\u5bcc","nameEn":"Chung Fu","routes":["705","706","751","751","761P","761P"],"lat":22.4619988,"lon":113.9970468},{"id":"370","nameCh":"\u937e\u5c4b\u6751","nameEn":"Chung Uk Tsuen","routes":["610","610","614","614","615","615","751","751"],"lat":22.4296975,"lon":113.9922331},{"id":"570","nameCh":"\u8c50\u5e74\u8def","nameEn":"Fung Nin Road","routes":["610","610","614","614","615","615","761P","761P"],"lat":22.4445292,"lon":114.0238504},{"id":"340","nameCh":"\u9cf3\u5730","nameEn":"Fung Tei","routes":["614P","614P","614","614"],"lat":22.4067811,"lon":113.9788053},{"id":"455","nameCh":"\u9280\u5ea7","nameEn":"Ginza","routes":["705","706","751","751"],"lat":22.4575107,"lon":114.0049623},{"id":"260","nameCh":"\u8c50\u666f\u5712","nameEn":"Goodview Garden","routes":["507","507","614P","614P","614","614"],"lat":22.3833066,"lon":113.973042},{"id":"425","nameCh":"\u5751\u5c3e\u6751","nameEn":"Hang Mei Tsuen","routes":["751","751","761P","761P"],"lat":22.4451439,"lon":114.0056157},{"id":"070","nameCh":"\u6cb3\u7530","nameEn":"Ho Tin","routes":["507","507","751","751"],"lat":22.3971066,"lon":113.9730527},{"id":"310","nameCh":"\u4f55\u798f\u5802","nameEn":"Hoh Fuk Tong","routes":["614P","614P","614","614"],"lat":22.3974126,"lon":113.9774837},{"id":"580","nameCh":"\u5eb7\u6a02\u8def","nameEn":"Hong Lok Road","routes":["610","610","614","614","615","615","761P","761P"],"lat":22.4445079,"lon":114.0269434},{"id":"380","nameCh":"\u6d2a\u6c34\u6a4b","nameEn":"Hung Shui Kiu","routes":["610","610","614","614","615","615","751","751"],"lat":22.4336604,"lon":113.9974787},{"id":"110","nameCh":"\u9e92\u9e9f","nameEn":"Kei Lun","routes":["505","615P","615P"],"lat":22.4107151,"lon":113.9764566},{"id":"060","nameCh":"\u5efa\u5b89","nameEn":"Kin On","routes":["505","505"],"lat":22.395141,"lon":113.9690083},{"id":"130","nameCh":"\u5efa\u751f","nameEn":"Kin Sang","routes":["505","505","615P","615P","615","615"],"lat":22.4067368,"lon":113.9692049},{"id":"350","nameCh":"\u85cd\u5730","nameEn":"Lam Tei","routes":["610","610","614","614","615","615","751","751"],"lat":22.4186987,"lon":113.981894},{"id":"150","nameCh":"\u826f\u666f","nameEn":"Leung King","routes":["505","505","507","507","615P","615P","615","615"],"lat":22.4066703,"lon":113.9636996},{"id":"020","nameCh":"\u8f15\u9435\u8eca\u5ee0","nameEn":"Light Rail Depot","routes":["615P","615P","610","610","615","615"],"lat":22.3818614,"lon":113.9633959},{"id":"448","nameCh":"\u6a02\u6e56","nameEn":"Locwood","routes":["705","706","761P","761P"],"lat":22.4531283,"lon":114.001137},{"id":"030","nameCh":"\u9f8d\u9580","nameEn":"Lung Mun","routes":["615P","615P","610","610","615","615"],"lat":22.3852838,"lon":113.9650534},{"id":"010","nameCh":"\u7f8e\u6a02","nameEn":"Melody Garden","routes":["615P","615P","610","610","615","615"],"lat":22.3750826,"lon":113.961188},{"id":"200","nameCh":"\u9cf4\u7434","nameEn":"Ming Kum","routes":["505","615P","615P","610","610","615","615"],"lat":22.3971361,"lon":113.967312},{"id":"360","nameCh":"\u6ce5\u570d","nameEn":"Nai Wai","routes":["610","610","614","614","615","615","751","751"],"lat":22.4238581,"lon":113.9866093},{"id":"230","nameCh":"\u9280\u570d","nameEn":"Ngan Wai","routes":["507","507","610","610"],"lat":22.4024426,"lon":113.974685},{"id":"270","nameCh":"\u5b89\u5b9a","nameEn":"On Ting","routes":["505","505","507","507","614P","614P","614","614","751"],"lat":22.3876044,"lon":113.9751},{"id":"400","nameCh":"\u5c4f\u5c71","nameEn":"Ping Shan","routes":["610","610","614","614","615","615","761P","761P"],"lat":22.44288,"lon":114.012039},{"id":"330","nameCh":"\u666f\u5cf0","nameEn":"Prime View","routes":["614P","614P","614","614"],"lat":22.4031239,"lon":113.9795382},{"id":"300","nameCh":"\u676f\u6e21","nameEn":"Pui To","routes":["614P","614P","614","614"],"lat":22.3946448,"lon":113.9768261},{"id":"920","nameCh":"\u4e09\u8056","nameEn":"Sam Shing","routes":["505","505"],"lat":22.3824815,"lon":113.9766031},{"id":"320","nameCh":"\u65b0\u589f","nameEn":"San Hui","routes":["614P","614P","614","614"],"lat":22.4002367,"lon":113.9780398},{"id":"160","nameCh":"\u65b0\u570d","nameEn":"San Wai","routes":["505","505","507","507","615P","615P","615","615"],"lat":22.4052311,"lon":113.9645058},{"id":"180","nameCh":"\u5c71\u666f(\u5317)","nameEn":"Shan King (North)","routes":["505"],"lat":22.3985084,"lon":113.9668019},{"id":"190","nameCh":"\u5c71\u666f(\u5357)","nameEn":"Shan King (South)","routes":["505"],"lat":22.3965922,"lon":113.9661572},{"id":"170","nameCh":"\u77f3\u6392","nameEn":"Shek Pai","routes":["505","505","615P","615P","610","610","615","615"],"lat":22.4013692,"lon":113.9677639},{"id":"560","nameCh":"\u6c34\u908a\u570d","nameEn":"Shui Pin Wai","routes":["610","610","614","614","615","615","761P","761P"],"lat":22.4444798,"lon":114.0202344},{"id":"240","nameCh":"\u5146\u79a7","nameEn":"Siu Hei","routes":["507","507","614P","614P","614","614"],"lat":22.3751808,"lon":113.9669115},{"id":"100","nameCh":"\u5146\u5eb7","nameEn":"Siu Hong","routes":["505","505","614P","615P","615P","614P","610","610","614","614","615","615","751","751"],"lat":22.4119912,"lon":113.9782568},{"id":"265","nameCh":"\u5146\u9e9f","nameEn":"Siu Lun","routes":["505","505","507","507","614P","614P","614","614"],"lat":22.3845825,"lon":113.9750653},{"id":"212","nameCh":"\u5927\u8208(\u5317)","nameEn":"Tai Hing (North)","routes":["507","507","610","610"],"lat":22.4045366,"lon":113.9701384},{"id":"220","nameCh":"\u5927\u8208(\u5357)","nameEn":"Tai Hing (South)","routes":["507","507","610","610"],"lat":22.402737,"lon":113.9721085},{"id":"590","nameCh":"\u5927\u68e0\u8def","nameEn":"Tai Tong Road","routes":["610","610","614","614","615","615","761P","761P"],"lat":22.4444678,"lon":114.0295529},{"id":"480","nameCh":"\u5929\u5bcc","nameEn":"Tin Fu","routes":["705","706","751","751","761P","761P"],"lat":22.4645697,"lon":113.9977215},{"id":"540","nameCh":"\u5929\u6052","nameEn":"Tin Heng","routes":["705","706"],"lat":22.4697339,"lon":114.00083},{"id":"140","nameCh":"\u7530\u666f","nameEn":"Tin King","routes":["505","505","507","507","507","615P","615P","615","615"],"lat":22.4078096,"lon":113.9665287},{"id":"520","nameCh":"\u5929\u79c0","nameEn":"Tin Sau","routes":["705","706"],"lat":22.4655398,"lon":114.0029634},{"id":"460","nameCh":"\u5929\u745e","nameEn":"Tin Shui","routes":["705","706","761P","761P"],"lat":22.455891,"lon":113.9994535},{"id":"430","nameCh":"\u5929\u6c34\u570d","nameEn":"Tin Shui Wai","routes":["705","705","706","706","751","751"],"lat":22.44941,"lon":114.0060096},{"id":"435","nameCh":"\u5929\u6148","nameEn":"Tin Tsz","routes":["705","706","751","751"],"lat":22.4527213,"lon":114.0060782},{"id":"500","nameCh":"\u5929\u69ae","nameEn":"Tin Wing","routes":["705","705","706","706","751","751"],"lat":22.4595311,"lon":114.0028268},{"id":"450","nameCh":"\u5929\u6e56","nameEn":"Tin Wu","routes":["705","706","751","751"],"lat":22.4549718,"lon":114.0057192},{"id":"550","nameCh":"\u5929\u9038","nameEn":"Tin Yat","routes":["705","706","751","751","751","761P","761P","761P"],"lat":22.4669218,"lon":113.9990795},{"id":"445","nameCh":"\u5929\u8000","nameEn":"Tin Yiu","routes":["705","706","761P","761P"],"lat":22.4503875,"lon":114.0027686},{"id":"510","nameCh":"\u5929\u6085","nameEn":"Tin Yuet","routes":["705","706"],"lat":22.462807,"lon":114.001654},{"id":"390","nameCh":"\u5858\u574a\u6751","nameEn":"Tong Fong Tsuen","routes":["610","610","614","614","615","615","761P","761P"],"lat":22.4402494,"lon":114.0073832},{"id":"280","nameCh":"\u5e02\u4e2d\u5fc3","nameEn":"Town Centre","routes":["505","505","507","507","614P","614P","614","614","751","751"],"lat":22.3913803,"lon":113.974973},{"id":"040","nameCh":"\u9752\u5c71\u6751","nameEn":"Tsing Shan Tsuen","routes":["615P","615P","610","610","615","615"],"lat":22.3907254,"lon":113.9672011},{"id":"050","nameCh":"\u9752\u96f2","nameEn":"Tsing Wun","routes":["615P","615P","610","610","615","615"],"lat":22.3943809,"lon":113.9674685},{"id":"295","nameCh":"\u5c6f\u9580","nameEn":"Tuen Mun","routes":["505","505","507","507","751","751"],"lat":22.3938418,"lon":113.973039},{"id":"001","nameCh":"\u5c6f\u9580\u78bc\u982d","nameEn":"Tuen Mun Ferry Pier","routes":["507","507","614P","615P","615P","614P","610","610","614","614","615","615"],"lat":22.3726481,"lon":113.9667048},{"id":"090","nameCh":"\u5c6f\u9580\u91ab\u9662","nameEn":"Tuen Mun Hospital","routes":["610","610","751","751"],"lat":22.4078234,"lon":113.9771509},{"id":"250","nameCh":"\u5c6f\u9580\u6cf3\u6c60","nameEn":"Tuen Mun Swimming Pool","routes":["507","507","614P","614P","614","614"],"lat":22.3812061,"lon":113.9703786},{"id":"530","nameCh":"\u6fd5\u5730\u516c\u5712","nameEn":"Wetland Park","routes":["705","706"],"lat":22.4695595,"lon":114.0025635},{"id":"275","nameCh":"\u53cb\u611b","nameEn":"Yau Oi","routes":["751","751"],"lat":22.3866677,"lon":113.9735606},{"id":"600","nameCh":"\u5143\u6717","nameEn":"Yuen Long","routes":["610","610","614","614","615","615","761P","761P"],"lat":22.4456351,"lon":114.0348489}]')},15:function(e,n,t){e.exports={row:"ResultRow_row__2f4S9",platformId:"ResultRow_platformId__HU7X0",route:"ResultRow_route__LRm5F",destination:"ResultRow_destination__3LOX7",time:"ResultRow_time__1ilG1"}},180:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),i=t(64),r=t.n(i),s=(t(78),t(41)),l=t(3),u=t(12),c=t(2),m=t(28),d=t.n(m),h=t(1);var P=function(){return Object(h.jsxs)("div",{className:d.a.header,children:[Object(h.jsx)("h1",{className:d.a.title,children:"Lighter"}),Object(h.jsx)("h2",{className:d.a.description,children:"A lightweight light rail utility"})]})},j=t(5),p=t(29),C=t.n(p);var f=function(e){var n=e.centerX,t=e.centerY,o=e.zoomLevel,i=e.markers,r=e.onMarkerClick,s=Object(a.useRef)(null),l=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){l.current&&(s.current=C.a.map(l.current),C.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(s.current),l.current.style.width="100%",l.current.style.height="100%")}),[]),Object(a.useLayoutEffect)((function(){if(s.current){var e,n=Object(j.a)(i);try{var t=function(){var n=e.value,t=n.id,a=n.lat,o=n.lon,i=C.a.marker([a,o]);i.on("click",(function(){r(t)})),i.addTo(s.current)};for(n.s();!(e=n.n()).done;)t()}catch(a){n.e(a)}finally{n.f()}}}),[i,r]),Object(a.useLayoutEffect)((function(){s.current&&s.current.setView([n,t],o)}),[n,t,o]),Object(h.jsx)("div",{ref:l})},b=t(65),g=t.n(b);var E=function(e){var n=e.centerX,t=e.centerY,o=e.zoomLevel,i=e.markers,r=e.onViewChange,s=Object(c.f)(),l=Object(a.useCallback)((function(e){s("/result/".concat(e))}),[s]);return Object(h.jsx)("div",{className:g.a.mapPage,children:Object(h.jsx)(f,{centerX:n,centerY:t,zoomLevel:o,markers:i,onMarkerClick:l,onViewChange:r})})},_=t(66),O=t.n(_);var v=function(e){var n=e.name,t=e.path,o=Object(c.f)(),i=Object(a.useCallback)((function(e){e.preventDefault(),o(t)}),[o,t]);return Object(h.jsx)("a",{className:O.a.item,href:"/#".concat(t),onClick:i,children:n})},x=t(67),T=t.n(x);var S=function(){return Object(h.jsxs)("div",{className:T.a.navigation,children:[Object(h.jsx)(v,{name:"Map",path:"/"}),Object(h.jsx)(v,{name:"Station List",path:"/list"})]})},L=t(38),k=t.n(L),w=t(68),N=t(15),R=t.n(N);var y=function(e){var n=e.platformId,t=e.route,a=e.destination,o=e.trainLength,i=e.time;return Object(h.jsxs)("div",{className:R.a.row,children:[Object(h.jsx)("span",{className:R.a.platformId,children:n}),Object(h.jsxs)("span",{className:R.a.route,children:[t,"number"===typeof o?new Array(o).fill(0).map((function(){return"\ud83d\ude8b"})).join(""):o]}),Object(h.jsx)("span",{className:R.a.destination,children:a}),Object(h.jsx)("span",{className:R.a.time,children:i})]})},M=t(6),H=M.c().shape({platform_list:M.a().of(M.c().shape({platform_id:M.b().required(),route_list:M.a().of(M.c().shape({train_length:M.b().integer().positive().required(),route_no:M.d().required(),time_en:M.d().required(),dest_en:M.d().required()}).required()).required()}).required()).required()}).required(),I=t(14),W=t(40),Y=t.n(W);var q=function(){var e=Object(c.g)().stationId,n=Object(a.useState)(),t=Object(l.a)(n,2),o=t[0],i=t[1];Object(a.useEffect)((function(){var n=!1;return Object(w.a)(k.a.mark((function t(){var a,o,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://rt.data.gov.hk/v1/transport/mtr/lrt/getSchedule?station_id=").concat(e),{mode:"cors",method:"GET"});case 3:return a=t.sent,t.next=6,a.json();case 6:return o=t.sent,t.next=9,H.validate(o);case 9:r=t.sent,n||i(r),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),window.location.reload();case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))(),function(){n=!0}}),[e]);var r=Object(a.useMemo)((function(){var n=I.find((function(n){return n.id===e}));return n?"".concat(n.nameEn," ").concat(n.nameCh):""}),[e]);return Object(h.jsxs)("div",{className:Y.a.page,children:[Object(h.jsx)("h3",{className:Y.a.stationName,children:r}),Object(h.jsx)(y,{platformId:"Platform",trainLength:"",route:"Route",time:"Time of arrivals",destination:"Destination"}),o&&o.platform_list.flatMap((function(e){var n=e.platform_id;return e.route_list.flatMap((function(e){var t=e.train_length,a=e.route_no,o=e.time_en,i=e.dest_en;return Object(h.jsx)(y,{platformId:n,trainLength:t,route:a,time:o,destination:i},"".concat(n,"-").concat(t,"-").concat(a,"-").concat(o,"-").concat(i))}))}))]})},K=t(20),z=t.n(K);var F=function(e){var n=e.id,t=e.nameEn,o=e.nameCh,i=Object(c.f)(),r=Object(a.useCallback)((function(e){e.preventDefault(),i("/result/".concat(n))}),[i,n]);return Object(h.jsxs)("div",{className:z.a.row,children:[Object(h.jsx)("span",{className:z.a.name,children:"".concat(t," ").concat(o)}),Object(h.jsx)("span",{className:z.a.space}),Object(h.jsx)("a",{className:z.a.button,href:"/#/result/".concat(n),onClick:r,children:"Go"})]})},G=t(72),V=t.n(G);var X=function(){return Object(h.jsx)("div",{className:V.a.page,children:I.map((function(e){var n=e.id,t=e.nameEn,a=e.nameCh;return Object(h.jsx)(F,{id:n,nameEn:t,nameCh:a},t)}))})},A=t(73),D=t.n(A);var B=function(){var e=Object(a.useState)({centerX:22.42,centerY:114,zoomLevel:13}),n=Object(l.a)(e,2),t=n[0],o=n[1],i=Object(a.useCallback)((function(e,n,t){o({centerX:e,centerY:n,zoomLevel:t})}),[]);return Object(h.jsx)("div",{className:D.a.app,children:Object(h.jsxs)(u.a,{children:[Object(h.jsx)(P,{}),Object(h.jsx)(S,{}),Object(h.jsxs)(c.c,{children:[Object(h.jsx)(c.a,{path:"/",element:Object(h.jsx)(E,Object(s.a)(Object(s.a)({},t),{},{markers:I,onViewChange:i}))}),Object(h.jsx)(c.a,{path:"/list",element:Object(h.jsx)(X,{})}),Object(h.jsx)(c.a,{path:"/result/:stationId",element:Object(h.jsx)(q,{})})]})]})})};r.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(B,{})}),document.getElementById("root"))},20:function(e,n,t){e.exports={row:"StationListItem_row__IkSWH",name:"StationListItem_name__BmMHv",space:"StationListItem_space__1WC6A",button:"StationListItem_button__V2kGs"}},28:function(e,n,t){e.exports={header:"Header_header__34Mnk",title:"Header_title__R3bRx",description:"Header_description__1RdZ8"}},40:function(e,n,t){e.exports={page:"ResultPage_page__3ySjD",stationName:"ResultPage_stationName__39vU4"}},65:function(e,n,t){e.exports={mapPage:"MapPage_mapPage__1Lb_1"}},66:function(e,n,t){e.exports={item:"NavigationItem_item__3kr6W"}},67:function(e,n,t){e.exports={navigation:"Navigation_navigation__1Kgbb"}},72:function(e,n,t){e.exports={page:"StationListPage_page__2VcSW"}},73:function(e,n,t){e.exports={app:"App_app__2ziFi"}},78:function(e,n,t){}},[[180,1,2]]]);
//# sourceMappingURL=main.09a085ff.chunk.js.map