(this.webpackJsonplighter=this.webpackJsonplighter||[]).push([[7],{189:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(1),o=r(11),a=r(73),u=r.n(a),i=r(2);var f=function(e){var t=e.centerX,r=e.centerY,c=e.zoomLevel,a=e.markers,f=e.onViewChange,s=e.onMarkerClick,l=Object(n.useRef)(null),p=Object(n.useRef)(null);return Object(n.useLayoutEffect)((function(){p.current&&(l.current=u.a.map(p.current),u.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(l.current),p.current.style.width="100%",p.current.style.height="100%")}),[]),Object(n.useLayoutEffect)((function(){var e=function(){if(l.current){var e=l.current.getCenter(),t=e.lat,r=e.lng,n=l.current.getZoom();f(t,r,n)}};return l.current&&(l.current.on("zoomend",e),l.current.on("moveend",e)),function(){l.current&&(l.current.off("zoomend",e),l.current.off("moveend",e))}}),[f]),Object(n.useLayoutEffect)((function(){if(l.current){var e,t=Object(o.a)(a);try{var r=function(){var t=e.value,r=t.id,n=t.lat,c=t.lon,o=u.a.marker([n,c]);o.on("click",(function(){s(r)})),o.addTo(l.current)};for(t.s();!(e=t.n()).done;)r()}catch(n){t.e(n)}finally{t.f()}}}),[a,s]),Object(n.useLayoutEffect)((function(){l.current&&l.current.setView([t,r],c)}),[t,r,c]),Object(i.jsx)("div",{ref:p})},s=r(74),l=r.n(s);t.default=function(e){var t=e.centerX,r=e.centerY,o=e.zoomLevel,a=e.markers,u=e.onViewChange,s=Object(c.f)(),p=Object(n.useCallback)((function(e){s("/result/".concat(e))}),[s]);return Object(i.jsx)("div",{className:l.a.mapPage,children:Object(i.jsx)(f,{centerX:t,centerY:r,zoomLevel:o,markers:a,onMarkerClick:p,onViewChange:u})})}},74:function(e,t,r){e.exports={mapPage:"MapPage_mapPage__1Lb_1"}}}]);
//# sourceMappingURL=7.f5d6b662.chunk.js.map